# Arquitectura, Desarrollo y Diseño de NADIR
Este documento unifica la visión técnica y estética del proyecto detallando cómo se construye el software y las decisiones de diseño que fundamentan la experiencia de usuario. La arquitectura de NADIR sigue los principios de Clean Architecture y el patrón Model-View-ViewModel priorizando la separación de responsabilidades y la testabilidad.

La estructura del proyecto se organiza bajo el paradigma de segmentación vertical o Vertical Slicing donde cada característica funcional como la calibración o la sesión de usuario se encapsula en un módulo independiente que contiene su propia lógica de dominio, datos y presentación. Esto contrasta con las capas horizontales tradicionales reduciendo el acoplamiento y facilitando el trabajo paralelo sin conflictos. El sistema se compone de tres capas principales donde la Capa de Presentación está construida íntegramente con Jetpack Compose y funciona como una interfaz declarativa y pasiva que reacciona a los cambios de estado sin contener lógica de negocio utilizando StateFlow para recibir actualizaciones inmutables desde el ViewModel. La Capa de Dominio constituye el núcleo agnóstico de la plataforma conteniendo las reglas de negocio y las definiciones de las entidades coordinando las operaciones sin depender de frameworks externos. Finalmente la Capa de Datos implementa las interfaces del dominio y gestiona fuentes de datos como los sensores del dispositivo o el almacenamiento local abstrayendo la complejidad del hardware mediante corutinas y flujos reactivos.

Para gestionar las dependencias se utiliza Koin por su naturaleza ligera y sintaxis Kotlin DSL lo que permite la gestión eficiente del grafo de dependencias definiendo módulos para Singletons e instancias por demanda facilitando el intercambio de implementaciones reales por dobles de prueba durante el desarrollo.

El ciclo de desarrollo se basa en estándares modernos del ecosistema Android utilizando Kotlin como lenguaje único y Gradle con un Catálogo de Versiones centralizado para la gestión de dependencias. La concurrencia se maneja mediante el uso extensivo de Kotlin Coroutines y Flow para realizar operaciones asíncronas como la lectura de sensores y el audio sin bloquear el hilo principal de la interfaz. La calidad se asegura mediante una estrategia basada en la pirámide de pruebas que incluye verificaciones unitarias exhaustivas de la lógica de dominio y algoritmos validaciones instrumentadas de la integración con componentes Android y análisis estático mediante linters integrados para mantener la salud del código.

La metodología de diseño de NADIR no es meramente estética sino terapéutico basándose en principios de diseño centrado en el usuario y tecnología calmada. La paleta de colores se ha seleccionado cuidadosamente para inducir calma y seguridad evitando estímulos agresivos. Se utiliza un azul sereno como color primario para transmitir confianza y estabilidad en acciones principales un violeta claro que evoca equilibrio y naturaleza para el progreso y un modo oscuro prioritario que utiliza grises profundos y azules en lugar de negro puro para reducir la fatiga visual y evitar contrastes duros.

Dado que la visión puede estar nublada o ser irrelevante durante una crisis la interfaz se extiende a otros sentidos mediante una interacción no visual y multisensorial. El sistema háptico utiliza un lenguaje táctil codificado donde un pulso corto y nítido confirma acciones y una vibración progresiva imita el llenado y vaciado pulmonar para la guía respiratoria mientras que las alertas utilizan patrones suaves nunca bruscos. El audio complementa esta experiencia mediante el uso de síntesis de voz para instrucciones verbales calmadas y sonidos de interfaz minimalistas para feedback de estado.

Los principios de diseño para la ansiedad exigen previsibilidad por lo que la interfaz nunca sorprende al usuario y todo comportamiento es esperado. Se implementa una tolerancia a errores mediante controles grandes y áreas de toque generosas para compensar la pérdida de motricidad fina durante el temblor por ansiedad. Además el lenguaje utilizado es empático con textos redactados en tono de acompañamiento y no de mandato evitando estrictamente la jerga técnica o médica intimidante.
