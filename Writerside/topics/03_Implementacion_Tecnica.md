# Implementación Técnica Detallada

Este documento profundiza en los componentes clave del sistema abarcando el procesamiento de señales de sensores así como el motor háptico y la síntesis de voz.

La detección respiratoria por acelerometría en NADIR utiliza los sensores inerciales del smartphone para estimar la frecuencia respiratoria sin necesidad de hardware adicional basándose en el principio físico de que el abdomen y el tórax generan movimientos mecánicos rítmicos durante la respiración diafragmática. Al colocar el teléfono sobre el cuerpo el acelerómetro detecta cambios sutiles en la inclinación representados por los vectores de gravedad en los ejes Y y Z aislando una señal de interés de baja frecuencia que oscila entre cero punto uno y cero punto cinco hercios.

El pipeline de procesamiento comienza con la adquisición de datos a una frecuencia de muestreo aproximada de cincuenta hercios lo cual ofrece un balance óptimo entre precisión y duración de la batería. Posteriormente se aplica un filtro de media móvil en una ventana deslizante para suavizar la señal y eliminar el ruido de alta frecuencia provocado por temblores o la electrónica del sensor. Una vez filtrada la señal un algoritmo heurístico identifica los picos máximos locales que corresponden a la inhalación completa aplicando una validación contextual para ignorar falsos positivos que no cumplan con la periodicidad fisiológica mínima. El sistema incluye además una fase de calibración dinámica durante los primeros 60 segundos donde se establece un umbral de amplitud basal personalizado para el usuario permitiendo finalmente clasificar el estado en calma, normal o crisis según la frecuencia respiratoria calculada.

El motor háptico proporciona feedback táctil esencial para permitir el uso de la aplicación con los ojos cerrados facilitando la introcepción. Se han definido semánticas de vibración específicas como una vibración progresiva para la guía respiratoria, un latido doble distintivo para marcar los cambios de fase y un tic breve para confirmar interacciones de la interfaz.

Por último el sistema de síntesis de voz actúa como un ancla. Para garantizar la privacidad y una latencia nula el procesamiento se realiza localmente en el dispositivo forzando el uso del motor nativo configurado en español. La sincronización entre la voz y la respiración es crítica por lo que se emplea una estimación heurística que suspende la ejecución basándose en la longitud del texto permitiendo que la animación visual espere a que termine la frase verbal. 